---
ms.date: 12/12/2018
keywords: DSC, powershell, yapılandırma, Kurulum
title: PowerShell 4.0’da LCM yapılandırma
ms.openlocfilehash: a7d8a1d8dea5ca4c2cdf53b8c02e498be20dab60
ms.sourcegitcommit: 46bebe692689ebedfe65ff2c828fe666b443198d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/10/2019
ms.locfileid: "67734632"
---
# <a name="configuring-the-lcm-in-powershell-40"></a><span data-ttu-id="80551-103">PowerShell 4.0’da LCM yapılandırma</span><span class="sxs-lookup"><span data-stu-id="80551-103">Configuring the LCM in PowerShell 4.0</span></span>

><span data-ttu-id="80551-104">Şunun için geçerlidir: Windows PowerShell 4.0</span><span class="sxs-lookup"><span data-stu-id="80551-104">Applies To: Windows PowerShell 4.0</span></span>

<span data-ttu-id="80551-105">**Windows PowerShell 5.0 ve üzeri ilgili daha fazla bilgi için bkz: [yerel Configuration Manager Yapılandırma](metaConfig.md).**</span><span class="sxs-lookup"><span data-stu-id="80551-105">**For information related to Windows PowerShell 5.0 and later, see [Configuring the Local Configuration Manager](metaConfig.md).**</span></span>

<span data-ttu-id="80551-106">Yerel Configuration Manager, Windows PowerShell Desired State Configuration (DSC) altyapısıdır.</span><span class="sxs-lookup"><span data-stu-id="80551-106">Local Configuration Manager is the Windows PowerShell Desired State Configuration (DSC) engine.</span></span>
<span data-ttu-id="80551-107">Tüm hedef düğümler üzerinde çalışır ve bir DSC yapılandırma betiği içerdiği yapılandırma kaynaklarını çağırmak için sorumludur.</span><span class="sxs-lookup"><span data-stu-id="80551-107">It runs on all target nodes, and it is responsible for calling the configuration resources that are included in a DSC configuration script.</span></span>
<span data-ttu-id="80551-108">Bu konuda, yerel Configuration Manager'ın özellikleri listeler ve bir hedef düğümde yerel Configuration Manager ayarlarını nasıl değiştireceğinizi açıklar.</span><span class="sxs-lookup"><span data-stu-id="80551-108">This topic lists the properties of Local Configuration Manager and describes how you can modify the Local Configuration Manager settings on a target node.</span></span>

## <a name="local-configuration-manager-properties"></a><span data-ttu-id="80551-109">Yerel Configuration Manager özellikleri</span><span class="sxs-lookup"><span data-stu-id="80551-109">Local Configuration Manager properties</span></span>

<span data-ttu-id="80551-110">Ayarlama veya alma yerel Configuration Manager özellikleri listeler.</span><span class="sxs-lookup"><span data-stu-id="80551-110">The following lists the Local Configuration Manager properties that you can set or retrieve.</span></span>

- <span data-ttu-id="80551-111">**AllowModuleOverwrite**: Denetimleri olup yapılandırma Hizmeti'nden yeni yapılandırma indirilen hedef düğümde bulunan eski değiştirene izin verilir.</span><span class="sxs-lookup"><span data-stu-id="80551-111">**AllowModuleOverwrite**: Controls whether new configurations downloaded from the configuration service are allowed to overwrite the old ones on the target node.</span></span> <span data-ttu-id="80551-112">Olası değerler True ve False.</span><span class="sxs-lookup"><span data-stu-id="80551-112">Possible values are True and False.</span></span>
- <span data-ttu-id="80551-113">**CertificateID**: Bir yapılandırmada geçirilen kimlik bilgileri korumak için kullanılan sertifika parmak izi.</span><span class="sxs-lookup"><span data-stu-id="80551-113">**CertificateID**: The thumbprint of a certificate used to secure credentials passed in a configuration.</span></span> <span data-ttu-id="80551-114">Daha fazla bilgi için [Windows PowerShell Desired State Configuration kimlik bilgilerini güvenli hale getirmek istersiniz?](https://blogs.msdn.microsoft.com/powershell/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration/).</span><span class="sxs-lookup"><span data-stu-id="80551-114">For more information see [Want to secure credentials in Windows PowerShell Desired State Configuration?](https://blogs.msdn.microsoft.com/powershell/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration/).</span></span>
- <span data-ttu-id="80551-115">**ConfigurationID**: Bir çekme hizmetinden belirli yapılandırma dosyasını almak için kullanılan bir GUID belirtir.</span><span class="sxs-lookup"><span data-stu-id="80551-115">**ConfigurationID**: Indicates a GUID which is used to get a particular configuration file from a pull service.</span></span> <span data-ttu-id="80551-116">Doğru yapılandırma dosyasının erişilebilir GUID sağlar.</span><span class="sxs-lookup"><span data-stu-id="80551-116">The GUID ensures that the correct configuration file is accessed.</span></span>
- <span data-ttu-id="80551-117">**ConfigurationMode**: Yerel Configuration Manager gerçekten yapılandırma hedef düğümlere uygulanması hakkında belirtir.</span><span class="sxs-lookup"><span data-stu-id="80551-117">**ConfigurationMode**: Specifies how the Local Configuration Manager actually applies the configuration to the target nodes.</span></span> <span data-ttu-id="80551-118">Bunu yapmak için şu değerleri alabilir:</span><span class="sxs-lookup"><span data-stu-id="80551-118">It can take the following values:</span></span>
  - <span data-ttu-id="80551-119">**ApplyOnly**: Bu seçenekle, DSC yapılandırmasını uygular ve yeni bir yapılandırma, ya da algılanan sürece başka hiçbir şey yapmaz, yeni bir yapılandırma doğrudan hedefe göndermeden tarafından yeni bir yapılandırma düğümü veya bir çekme hizmetini ve DSC bağlanıyorsanız bulur, Bu çekme hizmetiyle denetler.</span><span class="sxs-lookup"><span data-stu-id="80551-119">**ApplyOnly**: With this option, DSC applies the configuration and does nothing further unless a new configuration is detected, either by you sending a new configuration directly to the target node or if you are connecting to a pull service and DSC discovers a new configuration when it checks with the pull service.</span></span> <span data-ttu-id="80551-120">Hedef düğüm yapılandırmasının drifts, hiçbir işlem yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="80551-120">If the target node’s configuration drifts, no action is taken.</span></span>
  - <span data-ttu-id="80551-121">**ApplyAndMonitor**: (Varsayılan değer olan) Bu seçenek, DSC sizin tarafınızdan gönderilen hedef düğüme doğrudan veya bir çekme hizmette bulunan tüm yeni yapılandırmalar geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="80551-121">**ApplyAndMonitor**: With this option (which is the default), DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="80551-122">Bundan sonra yapılandırma dosyasından hedef düğüm yapılandırmasını drifts, DSC günlükleri tutarsızlık bildirir.</span><span class="sxs-lookup"><span data-stu-id="80551-122">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="80551-123">DSC günlüğe kaydetme hakkında daha fazla bilgi için bkz. [Desired State Configuration hataları tanılamak için olay günlüklerini kullanarak](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span><span class="sxs-lookup"><span data-stu-id="80551-123">For more about DSC logging, see [Using Event Logs to Diagnose Errors in Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span></span>
  - <span data-ttu-id="80551-124">**ApplyAndAutoCorrect**: Bu seçenek belirtilmişse, DSC sizin tarafınızdan gönderilen hedef düğüme doğrudan veya bir çekme hizmette bulunan tüm yeni yapılandırmalar geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="80551-124">**ApplyAndAutoCorrect**: With this option, DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="80551-125">Bundan sonra yapılandırma dosyasından hedef düğüm yapılandırmasını drifts, DSC günlükleri tutarsızlık bildirir ve uygun yapılandırma dosyasını getirmek için hedef düğüm yapılandırmasını ayarlayın dener.</span><span class="sxs-lookup"><span data-stu-id="80551-125">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs, and then attempts to adjust the target node configuration to bring in compliance with the configuration file.</span></span>
- <span data-ttu-id="80551-126">**ConfigurationModeFrequencyMins**: Geçerli yapılandırmasını hedef düğümde uygulamak DSC arka plan uygulamasının çalışır sıklığı (dakika cinsinden) temsil eder.</span><span class="sxs-lookup"><span data-stu-id="80551-126">**ConfigurationModeFrequencyMins**: Represents the frequency (in minutes) at which the background application of DSC attempts to implement the current configuration on the target node.</span></span> <span data-ttu-id="80551-127">Varsayılan değer 15'tir.</span><span class="sxs-lookup"><span data-stu-id="80551-127">The default value is 15.</span></span> <span data-ttu-id="80551-128">RefreshMode ile birlikte bu değer ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="80551-128">This value can be set in conjunction with RefreshMode.</span></span> <span data-ttu-id="80551-129">RefreshMode ÇEKME olarak ayarlandığında, hedef düğüm Yapılandırma hizmeti tarafından RefreshFrequencyMins ayarlanmış aralıklarla iletişim kurar ve yapılandırmasına yüklemeleri.</span><span class="sxs-lookup"><span data-stu-id="80551-129">When RefreshMode is set to PULL, the target node contacts the configuration service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="80551-130">RefreshMode değeri ne olursa olsun ConfigurationModeFrequencyMins tarafından ayarlanmış aralıklarla hedef düğüme indirilen en yeni yapılandırmayı tutarlılık altyapısı uygular.</span><span class="sxs-lookup"><span data-stu-id="80551-130">Regardless of the RefreshMode value, at the interval set by ConfigurationModeFrequencyMins, the consistency engine applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="80551-131">Tamsayıya RefreshFrequencyMins ayarlanmalıdır ConfigurationModeFrequencyMins katı.</span><span class="sxs-lookup"><span data-stu-id="80551-131">RefreshFrequencyMins should be set to an integer multiple of ConfigurationModeFrequencyMins.</span></span>
- <span data-ttu-id="80551-132">**Kimlik bilgisi**: (Get-Credential gibi ile) kimlik bilgilerini belirten yapılandırma hizmetiyle iletişim kurma gibi uzak kaynaklara erişmek için gerekli.</span><span class="sxs-lookup"><span data-stu-id="80551-132">**Credential**: Indicates credentials (as with Get-Credential) required to access remote resources, such as to contact the configuration service.</span></span>
- <span data-ttu-id="80551-133">**DownloadManagerCustomData**: İndirme Yöneticisi için belirli özel veri içeren bir dizi temsil eder.</span><span class="sxs-lookup"><span data-stu-id="80551-133">**DownloadManagerCustomData**: Represents an array that contains custom data specific to the download manager.</span></span>
- <span data-ttu-id="80551-134">**DownloadManagerName**: Modül yükleme yöneticisi ve yapılandırmayı adını gösterir.</span><span class="sxs-lookup"><span data-stu-id="80551-134">**DownloadManagerName**: Indicates the name of the configuration and module download manager.</span></span>
- <span data-ttu-id="80551-135">**RebootNodeIfNeeded**: Bu ayar `$true` kaynakları kullanarak düğümü yeniden başlatmak izin vermek için `$global:DSCMachineStatus` bayrağı.</span><span class="sxs-lookup"><span data-stu-id="80551-135">**RebootNodeIfNeeded**: Set this to `$true` to allow resources to reboot the Node using the `$global:DSCMachineStatus` flag.</span></span> <span data-ttu-id="80551-136">Aksi takdirde, düğüm gerektiren herhangi bir yapılandırma için el ile yeniden başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="80551-136">Otherwise, you will have to manually reboot the node for any configuration that requires it.</span></span> <span data-ttu-id="80551-137">Varsayılan değer `$false` şeklindedir.</span><span class="sxs-lookup"><span data-stu-id="80551-137">The default value is `$false`.</span></span> <span data-ttu-id="80551-138">Bir yeniden başlatma koşulu DSC (örneğin, Windows Yükleyici) dışında bir şey tarafından geçirilmeden olduğunda bu ayarı kullanmak için bu ayarı ile birleştirerek [xPendingReboot](https://github.com/powershell/xpendingreboot) modülü.</span><span class="sxs-lookup"><span data-stu-id="80551-138">To use this setting when a reboot condition is enacted by something other than DSC (such as Windows Installer), combine this setting with the [xPendingReboot](https://github.com/powershell/xpendingreboot) module.</span></span>
- <span data-ttu-id="80551-139">**RefreshFrequencyMins**: Bir çekme hizmetini ayarlama olduğunda kullanılır.</span><span class="sxs-lookup"><span data-stu-id="80551-139">**RefreshFrequencyMins**: Used when you have set up a pull service.</span></span> <span data-ttu-id="80551-140">Geçerli yapılandırmayı indirmek için bir çekme hizmetini, yerel Configuration Manager kişiler sıklığı (dakika cinsinden) temsil eder.</span><span class="sxs-lookup"><span data-stu-id="80551-140">Represents the frequency (in minutes) at which the Local Configuration Manager contacts a pull service to download the current configuration.</span></span> <span data-ttu-id="80551-141">Bu değer ConfigurationModeFrequencyMins birlikte ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80551-141">This value can be set in conjunction with ConfigurationModeFrequencyMins.</span></span> <span data-ttu-id="80551-142">RefreshMode ÇEKME olarak ayarlandığında, hedef düğüm çekme hizmetini RefreshFrequencyMins tarafından ayarlanmış aralıklarla iletişim kurar ve yapılandırmasına yüklemeleri.</span><span class="sxs-lookup"><span data-stu-id="80551-142">When RefreshMode is set to PULL, the target node contacts the pull service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="80551-143">ConfigurationModeFrequencyMins tarafından ayarlanmış aralıklarla tutarlılık altyapısı ardından hedef düğüme indirilen en yeni yapılandırmayı uygular.</span><span class="sxs-lookup"><span data-stu-id="80551-143">At the interval set by ConfigurationModeFrequencyMins, the consistency engine then applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="80551-144">RefreshFrequencyMins tamsayıya ayarlanmazsa ConfigurationModeFrequencyMins, sistemin katı, Yukarı YUVARLA.</span><span class="sxs-lookup"><span data-stu-id="80551-144">If RefreshFrequencyMins is not set to an integer multiple of ConfigurationModeFrequencyMins, the system will round it up.</span></span> <span data-ttu-id="80551-145">Varsayılan değer 30’dur.</span><span class="sxs-lookup"><span data-stu-id="80551-145">The default value is 30.</span></span>
- <span data-ttu-id="80551-146">**RefreshMode**: Olası değerler **anında iletme** (varsayılan) ve **çekme**.</span><span class="sxs-lookup"><span data-stu-id="80551-146">**RefreshMode**: Possible values are **Push** (the default) and **Pull**.</span></span> <span data-ttu-id="80551-147">"Gönderme temelli" yapılandırmanın herhangi bir istemci bilgisayar kullanan bir yapılandırma dosyası, her hedef düğümde yerleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="80551-147">In the “push” configuration, you must place a configuration file on each target node, using any client computer.</span></span> <span data-ttu-id="80551-148">"Pull" modunda, bir çekme hizmetini yerel başvurun ve yapılandırma dosyalarına erişmek için Configuration için ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="80551-148">In the “pull” mode, you must set up a pull service for Local Configuration Manager to contact and access the configuration files.</span></span>

> [!NOTE]
> <span data-ttu-id="80551-149">LCM başlatır **ConfigurationModeFrequencyMins** döngüsü temel alan:</span><span class="sxs-lookup"><span data-stu-id="80551-149">The LCM starts the **ConfigurationModeFrequencyMins** cycle based on:</span></span>
>
> - <span data-ttu-id="80551-150">Yeni bir metaconfig kullanılarak uygulanır. `Set-DscLocalConfigurationManager`</span><span class="sxs-lookup"><span data-stu-id="80551-150">A new metaconfig is applied using `Set-DscLocalConfigurationManager`</span></span>
> - <span data-ttu-id="80551-151">Makine yeniden başlatma</span><span class="sxs-lookup"><span data-stu-id="80551-151">A machine restart</span></span>
>
> <span data-ttu-id="80551-152">Zamanlayıcı işlemi burada karşılaştığında herhangi bir koşul için 30 saniye ve döngü içinde algılanan bir kilitlenme yeniden başlatılır.</span><span class="sxs-lookup"><span data-stu-id="80551-152">For any condition where the timer process experiences a crash, that will be detected within 30 seconds and the cycle will be restarted.</span></span>
> <span data-ttu-id="80551-153">Eşzamanlı işlem döngüsü geciktirebilir Başlatılmakta olan bu işlemin süresi yapılandırılan döngüsü sıklığı aşarsa sonraki Zamanlayıcı başlatılmaz.</span><span class="sxs-lookup"><span data-stu-id="80551-153">A concurrent operation could delay the cycle from being started, if the duration of this operation exceeds the configured cycle frequency, the next timer will not start.</span></span>
>
> <span data-ttu-id="80551-154">Örneğin, metaconfig 15 dakikalık çekme sıklıkla yapılandırılır ve bir çekme T1 oluşur.</span><span class="sxs-lookup"><span data-stu-id="80551-154">Example, the metaconfig is configured at a 15 minute pull frequency and a pull occurs at T1.</span></span>  <span data-ttu-id="80551-155">Düğüm için 16 dakika iş sonlanmaz.</span><span class="sxs-lookup"><span data-stu-id="80551-155">The Node does not finish work for 16 minutes.</span></span>  <span data-ttu-id="80551-156">İlk 15 dakikalık bir döngüde göz ardı edilir ve sonraki çekme olacağını T1 + 15 + 15.</span><span class="sxs-lookup"><span data-stu-id="80551-156">The first 15 minute cycle is ignored, and next pull will happen at T1+15+15.</span></span>

### <a name="example-of-updating-local-configuration-manager-settings"></a><span data-ttu-id="80551-157">Örneği yerel Configuration Manager ayarları güncelleştiriliyor</span><span class="sxs-lookup"><span data-stu-id="80551-157">Example of updating Local Configuration Manager settings</span></span>

<span data-ttu-id="80551-158">Hedef düğüm yerel Configuration Manager ayarlarını dahil ederek güncelleştirebilirsiniz bir **LocalConfigurationManager** engelleyecek bir yapılandırma betiği düğüm bloğunda içinde aşağıdaki örnekte gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="80551-158">You can update the Local Configuration Manager settings of a target node by including a **LocalConfigurationManager** block inside the node block in a configuration script, as shown in the following example.</span></span>

```powershell
Configuration ExampleConfig
{
    Node “Server001”
    {
        LocalConfigurationManager
        {
            ConfigurationID = "646e48cb-3082-4a12-9fd9-f71b9a562d4e"
            ConfigurationModeFrequencyMins = 45
            ConfigurationMode = "ApplyAndAutocorrect"
            RefreshMode = "Pull"
            RefreshFrequencyMins = 90
            DownloadManagerName = "WebDownloadManager"
            DownloadManagerCustomData = (@{ServerUrl="https://$PullService/psdscpullserver.svc"})
            CertificateID = "71AA68562316FE3F73536F1096B85D66289ED60E"
            Credential = $cred
            RebootNodeIfNeeded = $true
            AllowModuleOverwrite = $false
        }
# One or more resource blocks can be added here
    }
}

# The following line invokes the configuration and creates a file called Server001.meta.mof at the specified path
ExampleConfig -OutputPath "c:\users\public\dsc"
```

<span data-ttu-id="80551-159">Önceki örnekte komut dosyasını çalıştırma belirtir ve ayarları depolayan bir MOF dosyası oluşturur.</span><span class="sxs-lookup"><span data-stu-id="80551-159">Running the script in the previous example generates a MOF file that specifies and stores the desired settings.</span></span>
<span data-ttu-id="80551-160">Ayarları uygulamak için kullanabileceğiniz **Set-DscLocalConfigurationManager** cmdlet'i, aşağıdaki örnekte gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="80551-160">To apply the settings, you can use the **Set-DscLocalConfigurationManager** cmdlet, as shown in the following example.</span></span>

```powershell
Set-DscLocalConfigurationManager -Path "c:\users\public\dsc"
```

> [!NOTE]
> <span data-ttu-id="80551-161">İçin **yolu** parametresi için belirttiğiniz aynı yol belirtmelisiniz **OutputPath** yapılandırmanın önceki örnekte çağrıldığında parametre.</span><span class="sxs-lookup"><span data-stu-id="80551-161">For the **Path** parameter, you must specify the same path that you specified for the **OutputPath** parameter when you invoked the configuration in the previous example.</span></span>

<span data-ttu-id="80551-162">Geçerli yerel Configuration Manager ayarlarını görmek için kullanabileceğiniz **Get-DscLocalConfigurationManager** cmdlet'i.</span><span class="sxs-lookup"><span data-stu-id="80551-162">To see the current Local Configuration Manager settings, you can use the **Get-DscLocalConfigurationManager** cmdlet.</span></span>
<span data-ttu-id="80551-163">Bu cmdlet'i parametresiz çağırmak, varsayılan olarak, düğüm üzerinde çalıştırdığınız yerel Configuration Manager ayarlarını alın.</span><span class="sxs-lookup"><span data-stu-id="80551-163">If you invoke this cmdlet with no parameters, by default it will get the Local Configuration Manager settings for the node on which you run it.</span></span>
<span data-ttu-id="80551-164">Başka bir düğüme belirtmek için kullanın **CimSession** Bu cmdlet ile parametre.</span><span class="sxs-lookup"><span data-stu-id="80551-164">To specify another node, use the **CimSession** parameter with this cmdlet.</span></span>
